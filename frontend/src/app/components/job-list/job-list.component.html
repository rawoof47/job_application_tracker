<!-- Include the shared header -->
<app-header></app-header>

<!-- Main container, pushed below the fixed header -->
<div class="container mt-5 pt-4">
  <h2 class="mb-4">Available Jobs</h2>

  <!-- Loop through jobs and display each in a card -->
  <div *ngFor="let job of jobs" class="job-card mb-4 shadow-sm">
    <div class="card-body">
      <h5 class="card-title">
        <i class="bi bi-building"></i>{{ job.company }}
      </h5>
      <p><strong>Role:</strong> {{ job.role }}</p>
      <p><strong>Salary:</strong> â‚¹{{ job.salary }}</p>
      <p><strong>Job Type:</strong> {{ job.type }}</p>

      <!-- Apply button -->
      <button 
        class="apply-btn mt-2"
        (click)="applyJob(job.id)"
        [disabled]="!isLoggedIn || job.applied"
      >
        <i class="bi bi-check-circle"></i>{{ job.applied ? 'Applied' : 'Apply Now' }}
      </button>
    </div>
  </div>

  <!-- Optionally show a loading message or spinner while fetching jobs -->
  <div *ngIf="!jobs.length && !loading" class="text-center no-jobs-message">
    <p>No jobs available at the moment. Please check back later.</p>
  </div>

  <div *ngIf="loading" class="text-center">
    <p>Loading jobs...</p>
  </div>
</div>
